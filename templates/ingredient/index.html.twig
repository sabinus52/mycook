{% extends 'layout.html.twig' %}

{% block title %} - Ingrédients{% endblock %}

{% block content %}

    {% include 'include/_breadcrumb.html.twig' with {'title': 'Les Ingrédients'} only %}

    <section class="list-category-area section-padding-80">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Calories</th>
                                <th>Unité</th>
                                <th>Conversion</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for ingredient in ingredients %}
                            <tr>
                                <th class="align-middle">{{ ingredient.name }}</th>
                                <td class="align-middle">{% if ingredient.calorie %}{{ ingredient.calorie }} kCal{% endif %}</td>
                                <td class="align-middle">{{ ingredient.unity.label }}</td>
                                <td class="align-middle">{% if ingredient.conversion %}1 {{ ingredient.name }} -&gt; {{ ingredient.conversion }} g{% endif %}</td>
                                <td class="align-middle text-right">
                                    <a href="{{ path('ingredient_show', {'id': ingredient.id}) }}" class="btn mycook-btn btn-small">Découvrir les recettes</a>
                                    {% if is_granted('ROLE_ADMIN') %}
                                        <a href="{{ path('ingredient_update', {'id': ingredient.id}) }}" class="btn btn-sm btn-info"><i class="fas fa-edit"></i>&nbsp;Modifier</a>
                                    {% endif %}
                                </td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="3">Aucun éléments dans la table</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

{% endblock %}
